<!DOCTYPE html>
<html lang="en">
<head>

    <title>Extract job desc</title>

    <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js"></script>

    <style>
        #Textarea {
          width: 300px;
          height: 750px;

        }

        .col-md-8 button{
            height:50px;
          }
          html, body {
                margin-top: 10px;
                margin-left: 10px;

            }
    </style>



</head>
<body >


<div class="job_desc_form form-group purple-border container-fluid">
    <div class="row">
        <div class="col-md-8">
                        <h1 class="text-success text-center">Job Description</h1>
                        <form class="row" action="{{ url_for('after_extract')}}"method="post">
                            <textarea name="desc" class="form-control col-md-10" id="Textarea" rows="6"  onkeyup='saveValue(this);'></textarea>
                            <button type="submit" class="btn btn-primary col-md-2 "><h3>Extract</h3></button>
                        </form>
        </div>

        <div class="container col-md-4">
            <h1 class="text-success text-center" >Extracted data</h1>
            <table class="table table-striped table-bordered table-hover table-success" >
                <thead class="thead-dark">
                <th>Field Name</th>
                <th>Value</th>
                </thead>
                <tbody>
                <tr>
                    <td>Company Name</td>
                    <td contenteditable='true'>{{ CompanyName }}</td>
                </tr>

                <tr>
                    <td>Title</td>
                    <td contenteditable='true'>{{ Title }}</td>
                </tr>
                <tr>
                    <td>Email</td>
                    <td contenteditable='true'>{{ Email }}</td>
                </tr>
                <tr>
                    <td>Urls</td>
                    <td contenteditable='true'>{{ Urls }}</td>
                </tr>
                <tr>
                    <td>Salary</td>
                    <td contenteditable='true'>{{ Salary }}</td>
                </tr>
                <tr>
                    <td>Salary min</td>
                    <td contenteditable='true'>{{ Salary_min }}</td>
                </tr>
                <tr>
                    <td>Salary max</td>
                    <td contenteditable='true'>{{ Salary_max }}</td>
                </tr>
                <tr>
                    <td>Currency</td>
                    <td contenteditable='true'>{{ Currency }}</td>
                </tr>
                <tr>
                    <td>Vacancy</td>
                    <td contenteditable='true'>{{ Vacancy }}</td>
                </tr>
                <tr>
                    <td>Skills</td>
                    <td contenteditable='true'>{{ Skills }}</td>
                </tr>

                <tr>
                    <td>Experience</td>
                    <td contenteditable='true'>{{ Experience }}</td>
                </tr>
                <tr>
                    <td>Deadline</td>
                    <td contenteditable='true'>{{ Deadline }}</td>
                </tr>
                <tr>
                    <td>Location</td>
                    <td contenteditable='true'>{{ Location }}</td>
                </tr>
                <tr>
                    <td>Address</td>
                    <td contenteditable='true'>{{ Address }}</td>
                </tr>

                <tr>
                    <td>Qualification</td>
                    <td contenteditable='true'>{{ Qualification }}</td>
                </tr>
                <tr>
                    <td>Job Nature</td>
                    <td contenteditable='true'>{{ JobNature }}</td>
                </tr>
                <tr>
                    <td>Job Site</td>
                    <td contenteditable='true'>{{ JobSite }}</td>
                </tr>
                <tr>
                    <td>Job Type</td>
                    <td contenteditable='true'>{{ Jobtype }}</td>
                </tr>
                <tr>
                    <td>Job Gender</td>
                    <td contenteditable='true'>{{ JobGender }}</td>
                </tr>
                <tr>
                    <td>Job Area</td>
                    <td contenteditable='true'>{{ JobArea }}</td>
                </tr>


                </tbody>
            </table>

        </div>

    </div>
</div>



<script >
    // Run on page load
    window.onload = function() {

        // If sessionStorage is storing default values (ex. name), exit the function and do not restore data
        if (sessionStorage.getItem('jobPost') == $('#Textarea').val(name)) {
            return;
        }

        // If values are not blank, restore them to the fields
        var jobPost = sessionStorage.getItem('jobPost');
        if (jobPost !== null) $('#Textarea').val(jobPost);
    }

    // Before refreshing the page, save the form data to sessionStorage
    window.onbeforeunload = function() {
        sessionStorage.setItem("jobPost", $('#Textarea').val());
    }
</script>

</body>
</html>